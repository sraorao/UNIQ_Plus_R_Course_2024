geom_density()
heroes_with_powers %>%
ggplot(aes(x = Height, y = Weight, colour = Alignment)) +
geom_point(alpha = 0.24) +
geom_density2d()
heroes_with_powers %>%
ggplot(aes(x = Height, y = Weight, colour = Alignment)) +
geom_point(alpha = 0.24) +
geom_label(aes(label = name))
heroes_with_powers %>%
ggplot(aes(x = Height, y = Weight, colour = Alignment)) +
geom_point(alpha = 0.24) +
geom_label(aes(label = name), alpha = 0.2)
install.packages("ggrepel")
View(heroes_with_powers_all)
colnames(heroes_with_powers_all)
lapply(colnames(heroes_with_powers_all), function(x) {
return(is.numeric(x))
}
lapply(colnames(heroes_with_powers_all), function(x) {
return(is.numeric(x))
}
lapply(colnames(heroes_with_powers_all), function(x) {
return(is.numeric(x))
})
sapply(colnames(heroes_with_powers_all), function(x) {
return(is.numeric(x))
})
heroes_with_powers_all[, sapply(colnames(heroes_with_powers_all), function(x) {
return(is.numeric(x))
})]
str(heroes_with_powers_all)
heroes_with_powers_all[, sapply(colnames(heroes_with_powers_all), function(x) {
return(is.numeric(heroes_with_powers_all[, x]))
})]
head(heroes_with_powers_all[, sapply(colnames(heroes_with_powers_all), function(x) {
return(is.numeric(heroes_with_powers_all[, x]))
})])
getwd()
# merging
# heroes <- read.csv("/Users/srao/OneDrive - Nexus365/work/teaching/UNIQ_Plus_R_Course_2024/datasets/heroes_information.csv")
heroes <- read.csv("../datasets/heroes_information.csv")
powers <- read.csv("../datasets/super_hero_powers.csv")
View(heroes)
# merging
# heroes <- read.csv("/Users/srao/OneDrive - Nexus365/work/teaching/UNIQ_Plus_R_Course_2024/datasets/heroes_information.csv")
heroes <- read.csv("../datasets/heroes_information.csv", row.names = TRUE)
# merging
# heroes <- read.csv("/Users/srao/OneDrive - Nexus365/work/teaching/UNIQ_Plus_R_Course_2024/datasets/heroes_information.csv")
heroes <- read.csv("../datasets/heroes_information.csv", row.names = 1)
View(heroes)
View(powers)
View(heroes)
View(heroes)
colnames(heroes)
colnames(heroes) <- c("hero_names", "Gender", "Eye.color", "Race", "Hair.color",
"Height", "Publisher", "Skin.color", "Alignment", "Weight")
View(heroes)
# merging
# heroes <- read.csv("/Users/srao/OneDrive - Nexus365/work/teaching/UNIQ_Plus_R_Course_2024/datasets/heroes_information.csv")
heroes <- read.csv("../datasets/heroes_information.csv", row.names = 1)
powers <- read.csv("../datasets/super_hero_powers.csv")
View(heroes)
sub(pattern = "name", replacement = "hero_names",
x = colnames(heroes))
colnames(heroes) <- sub(pattern = "name", replacement = "hero_names",
x = colnames(heroes))
colnames(heroes)
colnames(powers)
heroes_with_powers <- merge(heroes, powers, by = "hero_names")
View(heroes_with_powers)
heroes_with_powers <- merge(heroes, powers, by = "hero_names", all = TRUE)
# missing values
my_vector <- c(1, 2, 3, 4, 5)
my_vector <- 1:5
my_vector <- c(1, 3, NA, 6)
is.na(my_vector)
missing_filter <- is.na(my_vector)
my_vector[missing_filter]
my_vector[!missing_filter]
my_vector[!is.na(my_vector)]
my_vector[!is.na(my_vector)]
heroes_with_powers_nomissing <- na.omit(heroes_with_powers)
View(heroes_with_powers_nomissing)
library(ggpplot2)
library(ggplot2)
ggplot(data = heroes_with_powers, mapping = aes(x = Height, y = Weight))
ggplot(data = heroes_with_powers, mapping = aes(x = Height, y = Weight)) +
geom_point()
ggplot(data = heroes_with_powers, mapping = aes(x = Height, y = Weight)) +
geom_point() +
scale_x_log10()
ggplot(data = heroes_with_powers, mapping = aes(x = Height, y = Weight)) +
geom_point() +
scale_x_log10() +
scale_y_log10()
ggplot(data = heroes_with_powers, mapping = aes(x = Height, y = Weight)) +
geom_point(alpha = 0.3) +
scale_x_log10() +
scale_y_log10()
ggplot(data = heroes_with_powers, mapping = aes(x = Height, y = Weight)) +
geom_point(alpha = 1) +
scale_x_log10() +
scale_y_log10()
ggplot(data = heroes_with_powers, mapping = aes(x = Height, y = Weight)) +
geom_point(alpha = 0.3) +
scale_x_log10() +
scale_y_log10()
ggplot(data = heroes_with_powers, mapping = aes(x = Height, y = Weight)) +
geom_point(alpha = 0.1) +
scale_x_log10() +
scale_y_log10()
x <- -10
x < 0
if (x < 0) {
print("x is a negative number")
}
x <- 10
if (x < 0) {
print("x is a negative number")
}
if (x < 0) {
print("x is a negative number")
} else {
print("x is either a positive number or zero")
}
my_hero <- "Iron Man"
if (my_hero == "Iron Man") {
print("Avengers")
} else if (my_hero == "Hulk") {
print("Thor")
} else {
print("neither")
}
my_hero <- "thor"
if (my_hero == "Iron Man") {
print("Avengers")
} else if (my_hero == "Hulk") {
print("Thor")
} else {
print("neither")
}
is_hero <- TRUE
if (is_hero) {
# do something
} else {
# do something else
}
is_hero <- TRUE
if (is_hero) {
# do something
} else {
# do something else
}
if (is_hero) {
print("the character is a hero")
} else {
# do something else
}
x
ifelse(x < 5, "less than 5", "more than 5")
x <- 3
ifelse(x < 5, "less than 5", "more than 5")
# for loops
LETTERS
for (each_letter in LETTERS) {
print(each_letter)
}
for (each_num in 1:300000) {
print(each_num/10*10)
}
for (each_num in 1:300000) {
print(each_num/10*10/10*10)
}
heroes_vec <- heroes$hero_names
heroes_vec
while (index <= 734) {
print(heroes_vec[index])
}
index <- 1
while (index <= 734) {
print(heroes_vec[index])
}
while (index <= 734) {
print(heroes_vec[index])
index = index + 1
}
index <- 1
while (index <= 734) {
print(heroes_vec[index])
index = index + 2
}
index <- 0
while (index <= 734) {
print(heroes_vec[index])
index = index + 2
}
index <- 0
while (index <= 734) {
print(paste("the current index value is:", index))
print(heroes_vec[index])
index = index + 2
}
View(heroes)
View(heroes_with_powers_nomissing)
View(heroes_with_powers)
heroes_with_powers[heroes_with_powers$Eye.color == "blue", ]
heroes_with_powers$Eye.color
nrow(heroes_with_powers[heroes_with_powers$Eye.color == "blue", ])
heroes_with_powers$Publisher
# How many Marvel comics heroes have blue eye colour
nrow(heroes_with_powers[heroes_with_powers$Eye.color == "blue" &
heroes_with_powers$Publisher == "Marvel Comics", ])
# Do Marvel have more female heroes than DC
table(heroes_with_powers$Gender, heroes_with_powers$Publisher)
is.na(heroes_with_powers$Publisher)
heroes_with_powers[!is.na(heroes_with_powers$Publisher), ]
nrow(heroes_with_powers[!is.na(heroes_with_powers$Publisher), ])
# which superheroes have negative weight
heroes_with_powers[heroes_with_powers$Weight < 0, "hero_names"]
heroes_with_powers$Height
heroes_with_powers$Weight/(heroes_with_powers$Height/100)^2
# new column with BMI
heroes_with_powers$bmi <- heroes_with_powers$Weight/(heroes_with_powers$Height/100)^2
View(heroes_with_powers)
# are male superheroes taller than female superheroes
mean(heroes_with_powers$Height[heroes_with_powers$Gender == "Male"])
# are male superheroes taller than female superheroes
mean(heroes_with_powers$Height[heroes_with_powers$Gender == "Male"], na.rm = TRUE)
# are male superheroes taller than female superheroes
mean(heroes_with_powers$Height[heroes_with_powers$Gender == "Male"], na.rm = TRUE) >
mean(heroes_with_powers$Height[heroes_with_powers$Gender == "Female"], na.rm = TRUE)
# are male superheroes taller than female superheroes
mean(heroes_with_powers$Height[heroes_with_powers$Gender == "Male"], na.rm = TRUE)
mean(heroes_with_powers$Height[heroes_with_powers$Gender == "Female"], na.rm = TRUE)
# Is human the most common race of super heroes
table(heroes_with_powers$Race)
# make a pie chart to show which eye colour is most common
library(tidyverse)
View(heroes_with_powers)
heroes_with_powers %>%
ggplot() +
geom_bar(aes(y = Eye.color)) +
coord_polar()
heroes_with_powers %>%
ggplot() +
geom_col(aes(y = Eye.color)) +
coord_polar()
heroes_with_powers %>%
ggplot() +
geom_bar(aes(y = Eye.color)) +
coord_polar(y, start = 0)
heroes_with_powers %>%
ggplot() +
geom_bar(aes(y = Eye.color)) +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot() +
geom_bar(aes(y = Eye.color), stat = "identity") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(x = "", y = Eye.color)) +
geom_bar(aes(y = Eye.color), stat = "identity") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(x = "", y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), stat = "identity") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(x = "", y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), stat = "identity", colour = "white") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(x = "", y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), stat = "identity", colour = "black") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(x = "", y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), stat = "identity", width = 1, colour = "black") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(x = "", y = Eye.color, fill = Eye.color)) +
geom_col(aes(y = Eye.color), stat = "identity", width = 1, colour = "black") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(y = Eye.color, fill = Eye.color)) +
geom_col(aes(y = Eye.color), stat = "identity", width = 1, colour = "black") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(y = Eye.color, fill = Eye.color)) +
geom_col(aes(y = Eye.color), stat = "identity", width = 1, colour = "black") #+
heroes_with_powers %>%
ggplot(aes(y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), stat = "identity", width = 1, colour = "black") #+
heroes_with_powers %>%
ggplot(aes(y = Eye.color, fill = Eye.color)) +
geom_col(aes(y = Eye.color), colour = "black") #+
heroes_with_powers %>%
ggplot(aes(y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), colour = "black") #+
heroes_with_powers %>%
ggplot(aes(y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), colour = "black") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), width = 1, colour = "black") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), stat = "identity", colour = "black") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(x = "", y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), stat = "identity", colour = "black") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(x = "", y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), stat = "identity") +
coord_polar("y", start = 0)
heroes_with_powers %>%
ggplot(aes(x = "", y = Eye.color, fill = Eye.color)) +
geom_bar(aes(y = Eye.color), stat = "identity") +
coord_polar("y")
heroes_with_powers %>%
mutate(eye_colour_simple = sub(" .*", "", Eye.color))
heroes_with_powers %>%
mutate(eye_colour_simple = sub(" .*", "", Eye.color)) +
ggplot(aes(x = "", y = eye_colour_simple, fill = eye_colour_simple)) +
geom_bar(stat = "identity") +
coord_polar("y")
heroes_with_powers %>%
mutate(eye_colour_simple = sub(" .*", "", Eye.color)) %>%
ggplot(aes(x = "", y = eye_colour_simple, fill = eye_colour_simple)) +
geom_bar(stat = "identity") +
coord_polar("y")
heroes_with_powers %>%
mutate(eye_colour_simple = sub(" .*", "", Eye.color)) %>%
ggplot(aes(x = "", y = eye_colour_simple, fill = eye_colour_simple)) +
geom_bar(stat = "identity") +
scale_fill_identity() +
coord_polar("y")
heroes_with_powers %>%
mutate(eye_colour_simple = sub(" .*", "", Eye.color)) %>%
mutate(eye_colour_simple = if_else(eye_colour_simple == "-", NA, eye_colour_simple))
heroes_with_powers %>%
mutate(eye_colour_simple = sub(" .*", "", Eye.color)) %>%
mutate(eye_colour_simple = if_else(eye_colour_simple == "-", NA, eye_colour_simple)) %>%
ggplot(aes(x = "", y = eye_colour_simple, fill = eye_colour_simple)) +
geom_bar(stat = "identity") +
scale_fill_identity() +
coord_polar("y")
heroes_with_powers %>%
mutate(eye_colour_simple = sub(" .*", "", Eye.color)) %>%
mutate(eye_colour_simple = if_else(eye_colour_simple == "-", NA, eye_colour_simple)) %>%
summarise(unique(eye_colour_simple))
heroes_with_powers %>%
mutate(eye_colour_simple = sub(" .*", "", Eye.color)) %>%
mutate(eye_colour_simple = if_else(eye_colour_simple == "-", NA, eye_colour_simple)) %>%
with(., unique(eye_colour_simple))
colours
colours()
?stringr::str_replace
col2rgb
?barplot
table(heroes$Publisher)
table(heroes$Publisher) %>%
as.data.frame()
table(heroes$Publisher) %>%
as.data.frame() -> df
barplot(df$Freq)
barplot(df$Freq, names.arg = df$Var1)
barplot(df$Freq, names.arg = df$Var1, las=2)
barplot(df$Freq, names.arg = df$Var1, las=2, hadj=1)
barplot(df$Freq, names.arg = df$Var1, las=2)
barplot(df$Freq, names.arg = df$Var1, las=2)
par(mar=c(15,4,4,2))
barplot(df$Freq, names.arg = df$Var1, las=2)
barplot(df$Freq, names.arg = df$Var1, las=2)
?par
par(mar=c(10,4,4,2))
barplot(df$Freq, names.arg = df$Var1, las=2)
ggplot(heroes, mapping = aes(x = Publisher)) +
geom_col()
ggplot(heroes, mapping = aes(x = Publisher)) +
geom_bar()
ggplot(heroes, mapping = aes(x = Publisher, fill = Alignment)) +
geom_bar()
readxl::read_excel("../datasets/UFO_sightings_scrubbed.xlsx")
ufo_cleaned <- readxl::read_excel("../datasets/UFO_sightings_scrubbed.xlsx")
View(ufo_cleaned)
View(ufo_cleaned[ufo_cleaned$country == "de", ])
ufo_cleaned$country == "de"
length(ufo_cleaned$country == "de")
nrow(ufo_cleaned)
str(ufo_cleaned)
str(as.data.frame(ufo_cleaned[ufo_cleaned$country == "de", ]))
table(ufo_cleaned)
table(ufo_cleaned$country)
length(ufo_cleaned$country == "gb")
str(as.data.frame(ufo_cleaned[ufo_cleaned$country == "gb", ]))
View(as.data.frame(ufo_cleaned[ufo_cleaned$country == "gb", ]))
ufo_cleaned <- as.data.frame(ufo_cleaned)
str(ufo_cleaned)
View(as.data.frame(ufo_cleaned[ufo_cleaned$country == "gb", ]))
View(as.data.frame(ufo_cleaned[ufo_cleaned$country == "gb", ]))
View(ufo_cleaned[ufo_cleaned$country == "gb", ])
ufo_cleaned$country == "gb"
which(ufo_cleaned$country == "gb")
View(ufo_cleaned[which(ufo_cleaned$country == "gb"), ])
View(ufo_cleaned[which(ufo_cleaned$country == "de"), ])
?which
View(ufo_cleaned[which(ufo_cleaned$country == "de"), ])
View(ufo_cleaned[ufo_cleaned$country == "de", ])
colnames(heroes)
colnames(heroes)
for (each_column in colnames(heroes)) {
is_col_empty <- all(is.na(heroes[, each_column]))
print(is_col_empty)
}
empty_col_filter <- vector()
empty_col_filter <- vector()
for (each_column in colnames(heroes)) {
is_col_empty <- all(is.na(heroes[, each_column]))
empty_col_filter <- c(empty_col_filter, is_col_empty)
}
empty_col_filter
heroes_noempty_col <- heroes[, !empty_col_filter]
head(heroes_noempty_col)
duplicated(heroes$hero_names)
!duplicated(heroes$hero_names)
duplicated(heroes$hero_names)
heroes[!duplicated(heroes$hero_names), ]
heroes[duplicated(heroes$hero_names), ]
View(ufo_cleaned[which(ufo_cleaned$country == "de"), ])
View(ufo_cleaned[ufo_cleaned$country == "de", ])
str(ufo_cleaned)
head(ufo_cleaned)
View(ufo_cleaned)
sum(ufo_cleaned$`duration (seconds)` < 5)
sum(ufo_cleaned$`duration (seconds)`)
sum(ufo_cleaned$`duration (seconds)` < 5, na.rm = TRUE)
sum(ufo_cleaned$`duration (seconds)` < 1, na.rm = TRUE)
sum(ufo_cleaned$`duration (seconds)` < 0.1, na.rm = TRUE)
ufo_cleaned[ufo_cleaned$`duration (seconds)` < 0.1, ]
View(ufo_cleaned[ufo_cleaned$`duration (seconds)` < 0.1, ])
View(ufo_cleaned)
View(ufo_cleaned[which(ufo_cleaned$country == "de"), ])
ufo_cleaned$`duration (seconds)` < 0.1
sum(ufo_cleaned$`duration (seconds)` < 0.1)
which(is.na((ufo_cleaned$`duration (seconds)` < 0.1)))
ufo_cleaned[c(27823, 35693, 58592), ]
View(ufo_cleaned[ufo_cleaned$`duration (seconds)` < 0.1, ])
View(ufo_cleaned[which(ufo_cleaned$`duration (seconds)` < 0.1), ])
ufo_cleaned$country == "de"
which(c(T, F, T))
View(ufo_cleaned[which(ufo_cleaned$country == "de"), ])
ufo_cleaned$country == "de"
iris
iris %>%
ggplot(aes(y = Species)) +
geom_bar()
iris %>%
ggplot(aes(x = Species)) +
geom_bar()
?geom_boxplot
table(iris) %>%
as.data.frame()
table(iris$Species) %>%
as.data.frame()
table(iris$Species) %>%
as.data.frame() %>%
ggplot(aes(x = Var1)) +
geom_bar(stat = "identity")
table(iris$Species) %>%
as.data.frame() %>%
ggplot(aes(y = Freq)) +
geom_bar(stat = "identity")
table(iris$Species) %>%
as.data.frame() %>%
ggplot(aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity")
read.csv("../datasets/Best Songs on Spotify from 2000-2023.csv")
read.csv("../datasets/Best Songs on Spotify from 2000-2023.csv") %>%
group_by(year) %>%
summarise(n())
read.csv("../datasets/Best Songs on Spotify from 2000-2023.csv") %>%
colnames()
read.csv("../datasets/Best Songs on Spotify from 2000-2023.csv", sep = ";") %>%
colnames()
read.csv("../datasets/Best Songs on Spotify from 2000-2023.csv", sep = ";") %>%
colnames() %>%
group_by(year) %>%
summarise(n())
library(tidyverse)
read.csv("../datasets/Best Songs on Spotify from 2000-2023.csv", sep = ";") %>%
colnames() %>%
group_by(year) %>%
summarise(n())
read.csv("../datasets/Best Songs on Spotify from 2000-2023.csv", sep = ";") %>%
group_by(year) %>%
summarise(n())
iris
iris %>%
ggplot(aes(x = Species)) +
geom_bar()
table(iris$Species) %>%
as.data.frame()
table(iris$Species) %>%
as.data.frame() %>%
ggplot(aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity")
